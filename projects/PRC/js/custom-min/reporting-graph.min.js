var CHART=function(){function e(e){var o=[];return o.id=e.id,o.fullname=e.admin.nom.toUpperCase()+" "+e.admin.prenom,o.age=HELPER.getAge(e.admin.date_de_naissance),o.bmi=HELPER.getBmi(e.biometrie.poids,e.biometrie.taille),o.HbA1c=HELPER.ratioToPercent(e.const_biologique.HbA1c),o.Cholesterol_total=e.const_biologique.Cholesterol_total,o.Cholesterol_HDL=e.const_biologique.Cholesterol_HDL,o.PSS=e.parametres.PSS,o.Consommation_tabagique=e.assuetudes.Consommation_tabagique,o}function o(){n={labels:a,datasets:[]};for(var e=0;e<r.length;e++){var o={label:r[e].fullname,backgroundColor:HELPER.hexToRgb(HELPER.TAB_COLOR[e],.5),borderColor:HELPER.hexToRgb(HELPER.TAB_COLOR[e],1),borderWidth:1,data:[r[e].age,r[e].bmi,r[e].HbA1c,r[e].Cholesterol_total,r[e].Cholesterol_HDL,r[e].PSS,r[e].Consommation_tabagique]};n.datasets.push(o)}t()}function t(){var e=$("#results-graph")[0].getContext("2d");window.myBarChart=new Chart(e,{type:"bar",data:n,options:{responsive:!0,barValueSpacing:20,events:["click"],legend:{position:"top"},title:{display:!0,text:"Risk viewer comparison"}}})}var a=["Age","BMI","HbA1c (ratio)","Total cholesterol (mg/dl)","HDL cholesterol (mg/dl)","Systolic blood pressure (mmHg)","Smoking consumption (packs/year)"],r=[],n="";return{generateFullChartFromJSON:function(t,a){if(r=[],0!=t.length){$("#graph-container").show("slow");for(var n=0;n<t.length&&n<4;n++)$.each(a,function(o,a){t[n]==a.id&&(r[n]=e(a))}),o()}else $("#graph-container").hide("slow"),CHART.destroyChartCanvas()},destroyChartCanvas:function(){$("#results-graph").remove(),$("#graph-container").append('<canvas id="results-graph"><canvas>')}}}();
